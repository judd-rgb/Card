<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tugas Javascript B2</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: white;
      color: black;
      transition: all 0.3s ease;
    }

    .dark-mode {
      background-color: #121212;
      color: white;
    }

    h2 {
      margin-bottom: 10px;
    }

    button {
      margin: 5px;
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
    }

    .btn-dark {
      background-color: #333;
      color: white;
    }

    /* ðŸŒž Tombol Tambah Card - mode siang */
    .btn-add {
      background-color: black;
      color: white;
    }

    /* ðŸŒ™ Tombol Tambah Card - mode malam */
    .dark-mode .btn-add {
      background-color: white;
      color: black;
    }

    .btn-form, .btn-search {
      background-color: #e5e5e5;
    }

    .dark-mode .btn-form, .dark-mode .btn-search {
      background-color: #333;
      color: white;
    }

    .card-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 15px;
    }

    .card {
      background-color: #f9f9f9;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 15px;
      width: 180px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      position: relative;
      transition: all 0.3s ease;
    }

    .dark-mode .card {
      background-color: #1e1e1e;
      border-color: #555;
      color: white;
    }

    .close-btn {
      position: absolute;
      top: 5px;
      right: 8px;
      color: rgb(255, 0, 0);
      font-weight: bold;
      cursor: pointer;
    }

    .close-btn:hover {
      color: darkred;
    }

    /* Popup Form */
    .overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .overlay.active {
      display: flex;
    }

    .form-popup {
      background: white;
      padding: 20px;
      border-radius: 10px;
      width: 300px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .form-popup h3 {
      margin-top: 0;
    }

    .form-popup input {
      width: 100%;
      margin: 5px 0;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .form-popup button {
      width: 100%;
      background-color: rgb(157, 157, 157);
      color: white;
      margin-top: 10px;
    }

    .form-popup button:hover {
      background-color: darkred;
      color: white;
    }

    .dark-mode .form-popup {
      background: #222;
      color: white;
    }

    .dark-mode .form-popup input {
      background: #333;
      color: white;
      border-color: #555;
    }

  </style>
</head>
<body>
  <h2>Demo Proses JavaScript</h2>

  <button id="modeBtn" class="btn-dark">Mode Malam</button>
  <button id="addCardBtn" class="btn-add">Tambah Card</button>

  <div class="card-container" id="cardContainer"></div>

  <div style="margin-top:15px;">
    <button class="btn-form" id="showFormBtn">Tampilkan Form</button>
    <button class="btn-search" id="searchKOM">Cari KOM Mahasiswa</button>
  </div>

  <!-- Popup Form -->
  <div class="overlay" id="overlay">
    <div class="form-popup">
      <h3>Form Data</h3>
      <input type="text" placeholder="Nama">
      <input type="email" placeholder="Email">
      <button id="closeFormBtn">Tutup</button>
    </div>
  </div>

  <script>
    const cardContainer = document.getElementById("cardContainer");
    const addCardBtn = document.getElementById("addCardBtn");
    const modeBtn = document.getElementById("modeBtn");
    const searchBtn = document.getElementById("searchKOM");
    const showFormBtn = document.getElementById("showFormBtn");
    const overlay = document.getElementById("overlay");
    const closeFormBtn = document.getElementById("closeFormBtn");
    let cardCount = 0;

    // Tambah card
    addCardBtn.addEventListener("click", () => {
      cardCount++;
      const card = document.createElement("div");
      card.classList.add("card");
      card.innerHTML = `
        <span class="close-btn">&times;</span>
        <h4>Card ${cardCount}</h4>
        <p>Ini card ke-${cardCount}</p>
      `;

      // Tombol X menghapus card terakhir
      card.querySelector(".close-btn").addEventListener("click", () => {
        const lastCard = cardContainer.lastElementChild;
        if (lastCard) lastCard.remove();
        if (cardContainer.children.length === 0) cardCount = 0;
      });

      cardContainer.appendChild(card);
    });

    // Mode malam / siang
    modeBtn.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      if (document.body.classList.contains("dark-mode")) {
        modeBtn.textContent = "Mode Siang";
        modeBtn.classList.remove("btn-dark");
      } else {
        modeBtn.textContent = "Mode Malam";
        modeBtn.classList.add("btn-dark");
      }
    });

    // Tampilkan Form
    showFormBtn.addEventListener("click", () => {
      overlay.classList.add("active");
    });

    // Tutup Form
    closeFormBtn.addEventListener("click", () => {
      overlay.classList.remove("active");
    });

    // Data KOM
    const komA = [251402001,251402004,251402007,251402010,251402013,251402016,251402019,251402022,251402026,251402033,251402037,251402040,251402043,251402046,251402049,251402052,251402055,251402058,251402062,251402066,251402069,251402072,251402075,251402078,251402081,251402084,251402087,251402090,251402095,251402098,251402101,251402104,251402107,251402110,251402113,251402116,251402119,251402122,251402125,251402128,251402131,251402134,251402137,251402140,251402145];
    const komB = [251402002,251402005,251402008,251402011,251402014,251402017,251402020,251402023,251402027,251402031,251402034,251402038,251402041,251402044,251402047,251402050,251402053,251402056,251402059,251402063,251402067,251402070,251402073,251402076,251402079,251402082,251402085,251402088,251402092,251402096,251402099,251402102,251402105,251402108,251402111,251402114,251402117,251402120,251402123,251402126,251402129,251402132,251402135,251402138,251402141,251402147];
    const komC = [251402003,251402006,251402009,251402012,251402015,251402018,251402021,251402024,251402028,251402032,251402035,251402039,251402042,251402045,251402048,251402051,251402054,251402057,251402060,251402064,251402068,251402071,251402074,251402077,251402080,251402083,251402086,251402089,251402093,251402097,251402100,251402112,251402115,251402118,251402121,251402124,251402127,251402130,251402133,251402136,251402139,251402144];

    // Fitur Cari KOM Mahasiswa
    searchBtn.addEventListener("click", () => {
      const nim = prompt("Masukkan NIM Mahasiswa TI:");

      if (nim === null) return; // jika user tekan Cancel
      if (nim.trim() === "") {
        alert("NIM tidak boleh kosong");
        return;
      }

      const nimNumber = parseInt(nim);

      let kom = "";
      if (komA.includes(nimNumber)) kom = "KOM A";
      else if (komB.includes(nimNumber)) kom = "KOM B";
      else if (komC.includes(nimNumber)) kom = "KOM C";
      else {
        alert("NIM tidak ditemukan");
        return;
      }

      alert(`Mahasiswa berada di ${kom}`);
    });
  </script>
</body>
</html>